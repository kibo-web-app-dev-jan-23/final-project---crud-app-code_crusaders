{% extends "static/index.html" %}

{% block content %}
  <h1>{{ vehicle.make }} {{ vehicle.model }}</h1>
  <h2>Orders</h2>
  {% if orders %}
    <table>
      <thead>
        <tr>
          <th>Order ID</th>
          <th>Customer Name</th>
          <th>Customer Email</th>
          <th>Order Date</th>
        </tr>
      </thead>
      <tbody>
        {% for order in orders %}
          <tr>
            <td>{{ order.id }}</td>
            <td>{{ order.customer_name }}</td>
            <td>{{ order.customer_email }}</td>
            <td>{{ order.order_date.strftime('%b %d, %Y %I:%M %p') }}</td><!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <title>{{ vehicle.make }} {{ vehicle.model }} Orders | Electric Cars</title>
                <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
            </head>
            <body>
                <header>
                    <nav>
                        <ul>
                            <li><a href="{{ url_for('index') }}">Home</a></li>
                            <li><a href="#">About Us</a></li>
                            <li><a href="#">Contact Us</a></li>
                        </ul>
                    </nav>
                    <h1>{{ vehicle.make }} {{ vehicle.model }} Orders</h1>
                </header>
                <main>
                    <div class="container">
                        {% for order in orders %}
                        <div class="card">
                            <div class="card-details">
                                <h2>Order {{ order.id }}</h2>
                                <p>Customer Name: {{ order.customer_name }}</p>
                                <p>Customer Email: {{ order.customer_email }}</p>
                                <p>Order Date: {{ order.order_date.strftime("%Y-%m-%d %H:%M:%S") }}</p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <a href="{{ url_for('index') }}" class="button">Back to Vehicles</a>
                    <h2>Add New Order</h2>
                    <form action="{{ url_for('vehicle_orders', id=vehicle.id) }}" method="POST">
                        <div class="form-group">
                            <label for="customer_name">Customer Name</label>
                            <input type="text" id="customer_name" name="customer_name" required>
                        </div>
                        <div class="form-group">
                            <label for="customer_email">Customer Email</label>
                            <input type="email" id="customer_email" name="customer_email" required>
                        </div>
                        <input type="submit" value="Submit Order" class="button">
                    </form>
                </main>
                <footer>
                    <p>&copy; 2023 Electric Cars | Car Shop</p>
                </footer>
            </body>
            </html>
            
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No orders yet.</p>
  {% endif %}
  <h2>New Order</h2>
  <form method="POST">
    <label for="customer_name">Customer Name:</label>
    <input type="text" id="customer_name" name="customer_name" required>
    <br>
    <label for="customer_email">Customer Email:</label>
    <input type="email" id="customer_email" name="customer_email" required>
    <br>
    <button type="submit">Place Order</button>
  </form>
{% endblock %}
